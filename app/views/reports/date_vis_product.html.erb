<div class="col-sm-6">
  <%= date_field_tag(:created_at, Date.today )%>
  <%=submit_tag :submit%>
</div><br><br>

<div class="col-sm-6">
  <table class="table table-bordered scrollable table-responsive table-hover">
     <thead style="background-color: gold">
       <strong style="font-size: 15px">Date Vis Report</strong><br>
       <tr>
        <th>ðŸ“† Date</th>
        <th>Customer</th>
        <th>Mobile</th>
        <th>Weight(kg.)</th>
        <th>Price(Rs.)</th>
        <th>Link</th>
      </tr>
    </thead>

    <tbody>
      <%record = @products.where("Date(created_at) =?", "2018-08-01")%></td>
      <% if record.blank? %>
        <tr>
          <td colspan="7">No record available this date.</td>
        </tr>
      <% else %>
        <% record.each do |product| %>
          <tr>
            <td><%= product.created_at.strftime '%d/%b/%Y'%></td>
            <td><%= product.customer.last_name.capitalize + " " + product.customer.first_name.capitalize%></td>
            <td><%= product.customer.mobile_num.capitalize %></td>
            <td><%= product.weight %> /kg</td>
            <td>Rs. <%= product.price %></td>
            <td>
              <%= link_to '', new_product_path(cust_id: product.customer_id), class:"btn btn-xs btn-info glyphicon glyphicon-plus" %>
              <%= link_to '', record_operators_path(id: product.customer_id), class:"btn btn-xs btn-primary glyphicon glyphicon-list" %>
            </td>
          </tr>
        <% end %>
      <tr style="background-color: gold">
        <th colspan="3">Total Customer's = <%=  @products.where("Date(created_at) =?", "2018-07-31").count %></th>
        <th><%= @products.where("Date(created_at) =?", "2018-07-31").sum(:weight) %>/kg</th>
        <th>Rs. <%= @products.where("Date(created_at) =?", "2018-07-31").sum(:price) %></th>
        <th>Count = <%= @products.where("Date(created_at) =?", "2018-07-31").count %></th>
      <% end %>
    </tbody>
  </table>
</div>